(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[6],{405:function(e,t,c){"use strict";c.r(t);var r=c(6),n=c(0),s=c.n(n),j=c(406),i=c(386),u=c(16),a=c(195),o=c(2),b=function(){var e=Object(u.c)(),t=Object(u.d)((function(e){return e.chat.status}));return Object(n.useEffect)((function(){return e(Object(a.c)()),function(){e(Object(a.d)())}}),[]),Object(o.jsxs)("div",{children:["error"===t&&Object(o.jsx)("div",{children:"Some error. Please refresh page!"}),Object(o.jsx)(l,{}),Object(o.jsx)(d,{})]})},l=s.a.memo((function(){var e=Object(u.d)((function(e){return e.chat.messages})),t=Object(n.useRef)(null),c=Object(n.useState)(!1),s=Object(r.a)(c,2),j=s[0],i=s[1];return Object(n.useEffect)((function(){var e;j&&(null===t||void 0===t||null===(e=t.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]),Object(o.jsxs)("div",{style:{height:"400px",overflow:"auto"},onScroll:function(e){var t=e.currentTarget;Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<300?!j&&i(!0):j&&i(!1)},children:[e.map((function(e){return Object(o.jsx)(O,{message:e},e.userId+e.message)})),Object(o.jsx)("div",{ref:t})]})})),O=function(e){var t=e.message;return Object(o.jsxs)("div",{children:[Object(o.jsx)("img",{src:t.photo,width:"20"})," ",Object(o.jsx)("b",{children:t.userName})," ",Object(o.jsx)("p",{children:t.message}),Object(o.jsx)("hr",{})]})},d=function(){var e=j.a.TextArea,t=Object(n.useState)(""),c=Object(r.a)(t,2),s=c[0],b=c[1],l=Object(u.d)((function(e){return e.chat.status})),O=Object(u.c)();return Object(o.jsxs)("div",{children:[Object(o.jsx)(e,{onChange:function(e){return b(e.currentTarget.value)},value:s,rows:2}),Object(o.jsx)(i.a,{onClick:function(){s&&(O(Object(a.b)(s)),b(""))},type:"primary",disabled:"ready"!==l,children:"Send"})]})};t.default=function(){return Object(o.jsx)("div",{children:Object(o.jsx)(b,{})})}}}]);
//# sourceMappingURL=6.d9071516.chunk.js.map