(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[7],{231:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var r=t(43);function o(e,n){if(null==e)return{};var t,o,u=Object(r.a)(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(u[t]=e[t])}return u}},302:function(e,n,t){e.exports={selectedPage:"Pagination_selectedPage__1rooW"}},303:function(e,n,t){e.exports={userPhoto:"Users_userPhoto__2dm5t",userProfile:"Users_userProfile__1S7Vo",userProfile__photo:"Users_userProfile__photo__1mEXt",userProfile__button:"Users_userProfile__button__2CHXZ",userProfile__info:"Users_userProfile__info__23TpK"}},307:function(e,n,t){"use strict";t.r(n);var r=t(32),o=t(33),u=t(35),i=t(34),s=t(0),c=t.n(s),a=t(231),l=t(13),f=t(302),p=t.n(f),g=t(2),h=function(e){for(var n=e.totalItemsCount,t=e.pageSize,r=e.currentPage,o=e.onPageChanged,u=e.portionSize,i=void 0===u?10:u,s=Math.ceil(n/t),a=[],f=1;f<=s;f++)a.push(f);var h=Math.ceil(s/i),d=c.a.useState(1),v=Object(l.a)(d,2),j=v[0],b=v[1],P=(j-1)*i+1,O=j*i;return Object(g.jsxs)("div",{children:[j>1&&Object(g.jsx)("button",{onClick:function(){b(j-1)},children:"\xab"}),a.filter((function(e){return e>=P&&e<=O})).map((function(e){return Object(g.jsx)("span",{className:r===e&&p.a.selectedPage||"",onClick:function(n){return o(e)},children:e},e)})),h>j&&Object(g.jsx)("button",{onClick:function(){b(j+1)},children:"\xbb"})]})},d=t(303),v=t.n(d),j=t(15),b=function(e){var n=e.user,t=e.followingInProgress,r=e.unfollow,o=e.follow;return Object(g.jsx)("div",{children:Object(g.jsxs)("div",{className:v.a.userProfile,children:[Object(g.jsx)("div",{className:v.a.userProfile__photo,children:Object(g.jsx)(j.b,{to:"/profile/"+n.id,children:Object(g.jsx)("img",{src:n.photos.small||"https://binkor.ru/images/vopros/user_hover.png",className:v.a.userPhoto})})}),Object(g.jsx)("div",{className:v.a.userProfile__button,children:n.followed?Object(g.jsx)("button",{disabled:t.some((function(e){return e===n.id})),onClick:function(){r(n.id)},children:"Unfollow"}):Object(g.jsx)("button",{disabled:t.some((function(e){return e===n.id})),onClick:function(){o(n.id)},children:"Follow"})}),Object(g.jsxs)("div",{className:v.a.userProfile__info,children:[Object(g.jsx)("div",{children:n.name}),Object(g.jsx)("div",{children:n.status})]})]},n.id)})},P=["totalUsersCount","onPageChanged","pageSize","users","currentPage","followingInProgress","unfollow","follow"],O=function(e){var n=e.totalUsersCount,t=e.onPageChanged,r=e.pageSize,o=e.users,u=e.currentPage,i=e.followingInProgress,s=e.unfollow,c=e.follow;Object(a.a)(e,P);return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{children:Object(g.jsx)(h,{currentPage:u,onPageChanged:t,totalItemsCount:n,pageSize:r})}),o.map((function(e){return Object(g.jsx)(b,{user:e,followingInProgress:i,unfollow:s,follow:c},e.id)}))]})},y=t(20),m=t(30),_=t(62),w="NOT_FOUND";var x=function(e,n){return e===n};function C(e,n){var t="object"===typeof n?n:{equalityCheck:n},r=t.equalityCheck,o=void 0===r?x:r,u=t.maxSize,i=void 0===u?1:u,s=t.resultEqualityCheck,c=function(e){return function(n,t){if(null===n||null===t||n.length!==t.length)return!1;for(var r=n.length,o=0;o<r;o++)if(!e(n[o],t[o]))return!1;return!0}}(o),a=1===i?function(e){var n;return{get:function(t){return n&&e(n.key,t)?n.value:w},put:function(e,t){n={key:e,value:t}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(c):function(e,n){var t=[];function r(e){var r=t.findIndex((function(t){return n(e,t.key)}));if(r>-1){var o=t[r];return r>0&&(t.splice(r,1),t.unshift(o)),o.value}return w}return{get:r,put:function(n,o){r(n)===w&&(t.unshift({key:n,value:o}),t.length>e&&t.pop())},getEntries:function(){return t},clear:function(){t=[]}}}(i,c);function l(){var n=a.get(arguments);if(n===w){if(n=e.apply(null,arguments),s){var t=a.getEntries(),r=t.find((function(e){return s(e.value,n)}));r&&(n=r.value)}a.put(arguments,n)}return n}return l.clearCache=function(){return a.clear()},l}function S(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var t=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return n}function k(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var o=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var u,i=0,s={memoizeOptions:void 0},c=r.pop();if("object"===typeof c&&(s=c,c=r.pop()),"function"!==typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var a=s,l=a.memoizeOptions,f=void 0===l?t:l,p=Array.isArray(f)?f:[f],g=S(r),h=e.apply(void 0,[function(){return i++,c.apply(null,arguments)}].concat(p)),d=e((function(){for(var e=[],n=g.length,t=0;t<n;t++)e.push(g[t].apply(null,arguments));return u=h.apply(null,e)}));return Object.assign(d,{resultFunc:c,memoizedResultFunc:h,dependencies:g,lastResult:function(){return u},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),d};return o}var U=k(C),z=U((function(e){return e.usersPage.users}),(function(e){return e})),I=function(e){return e.usersPage.pageSize},E=function(e){return e.usersPage.totalUsersCount},F=function(e){return e.usersPage.currentPage},N=function(e){return e.usersPage.followingInProgress},A=function(e){return e.usersPage.isFetching},q=t(80),M=function(e){Object(u.a)(t,e);var n=Object(i.a)(t);function t(){var e;Object(r.a)(this,t);for(var o=arguments.length,u=new Array(o),i=0;i<o;i++)u[i]=arguments[i];return(e=n.call.apply(n,[this].concat(u))).onPageChanged=function(n){var t=e.props.pageSize;e.props.setCurrentPage(n),e.props.getUsers(n,t)},e}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,n=e.currentPage,t=e.pageSize;this.props.getUsers(n,t)}},{key:"render",value:function(){return Object(g.jsxs)(g.Fragment,{children:[this.props.isFetching&&Object(g.jsx)(_.a,{}),Object(g.jsx)(O,{pageSize:this.props.pageSize,totalUsersCount:this.props.totalUsersCount,currentPage:this.props.currentPage,users:this.props.users,onPageChanged:this.onPageChanged,followingInProgress:this.props.followingInProgress,follow:this.props.follow,unfollow:this.props.unfollow})]})}}]),t}(c.a.Component);n.default=Object(m.d)(Object(y.b)((function(e){return{users:z(e),pageSize:I(e),totalUsersCount:E(e),currentPage:F(e),followingInProgress:N(e),isFetching:A(e)}}),{setCurrentPage:q.a.setCurrentPage,getUsers:q.d,follow:q.c,unfollow:q.e}))(M)}}]);
//# sourceMappingURL=7.f3e38e48.chunk.js.map