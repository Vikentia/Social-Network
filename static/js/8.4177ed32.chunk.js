(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[8],{306:function(e,n,t){e.exports={selectedPage:"Pagination_selectedPage__1rooW"}},307:function(e,n,t){e.exports={userPhoto:"Users_userPhoto__2dm5t",userProfile:"Users_userProfile__1S7Vo",userProfile__photo:"Users_userProfile__photo__1mEXt",userProfile__button:"Users_userProfile__button__2CHXZ",userProfile__info:"Users_userProfile__info__23TpK"}},316:function(e,n,t){"use strict";t.r(n);var r=t(39),o=t(40),s=t(43),i=t(42),l=t(0),u=t.n(l),a=t(229),c=t(13),f=t(306),g=t.n(f),d=t(2),j=function(e){for(var n=e.totalItemsCount,t=e.pageSize,r=e.currentPage,o=e.onPageChanged,s=e.portionSize,i=void 0===s?10:s,l=Math.ceil(n/t),a=[],f=1;f<=l;f++)a.push(f);var j=Math.ceil(l/i),p=u.a.useState(1),h=Object(c.a)(p,2),b=h[0],P=h[1],O=(b-1)*i+1,_=b*i;return Object(d.jsxs)("div",{children:[b>1&&Object(d.jsx)("button",{onClick:function(){P(b-1)},children:"\xab"}),a.filter((function(e){return e>=O&&e<=_})).map((function(e){return Object(d.jsx)("span",{className:r===e&&g.a.selectedPage||"",onClick:function(n){return o(e)},children:e},e)})),j>b&&Object(d.jsx)("button",{onClick:function(){P(b+1)},children:"\xbb"})]})},p=t(307),h=t.n(p),b=t(15),P=function(e){var n=e.user,t=e.followingInProgress,r=e.unfollow,o=e.follow;return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:h.a.userProfile,children:[Object(d.jsx)("div",{className:h.a.userProfile__photo,children:Object(d.jsx)(b.b,{to:"/profile/"+n.id,children:Object(d.jsx)("img",{src:n.photos.small||"https://binkor.ru/images/vopros/user_hover.png",className:h.a.userPhoto})})}),Object(d.jsx)("div",{className:h.a.userProfile__button,children:n.followed?Object(d.jsx)("button",{disabled:t.some((function(e){return e===n.id})),onClick:function(){r(n.id)},children:"Unfollow"}):Object(d.jsx)("button",{disabled:t.some((function(e){return e===n.id})),onClick:function(){o(n.id)},children:"Follow"})}),Object(d.jsxs)("div",{className:h.a.userProfile__info,children:[Object(d.jsx)("div",{children:n.name}),Object(d.jsx)("div",{children:n.status})]})]},n.id)})},O=t(312),_=function(e){return{}},x=function(e){var n=e.onFilterChanged;return Object(d.jsx)("div",{children:Object(d.jsx)(O.c,{initialValues:{term:"",friend:null},validate:_,onSubmit:function(e,t){var r=t.setSubmitting;n(e),r(!1)},children:function(e){var n=e.isSubmitting;return Object(d.jsxs)(O.b,{children:[Object(d.jsx)(O.a,{type:"text",name:"term"}),Object(d.jsxs)(O.a,{name:"friend",as:"select",children:[Object(d.jsx)("option",{value:"null",children:"All"}),Object(d.jsx)("option",{value:"true",children:"Only followed"}),Object(d.jsx)("option",{value:"false",children:"Only unfollowed"})]}),Object(d.jsx)("button",{type:"submit",disabled:n,children:"Find"})]})}})})},v=u.a.memo(x),m=["totalUsersCount","onPageChanged","pageSize","users","currentPage","followingInProgress","unfollow","follow"],C=function(e){var n=e.totalUsersCount,t=e.onPageChanged,r=e.pageSize,o=e.users,s=e.currentPage,i=e.followingInProgress,l=e.unfollow,u=e.follow,c=Object(a.a)(e,m);return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)(j,{currentPage:s,onPageChanged:t,totalItemsCount:n,pageSize:r})}),Object(d.jsx)("div",{children:Object(d.jsx)(v,{onFilterChanged:c.onFilterChanged})}),o.map((function(e){return Object(d.jsx)(P,{user:e,followingInProgress:i,unfollow:l,follow:u},e.id)}))]})},w=t(20),S=t(30),U=t(63),z=t(313),F=Object(z.a)((function(e){return e.usersPage.users}),(function(e){return e})),k=function(e){return e.usersPage.pageSize},y=function(e){return e.usersPage.totalUsersCount},I=function(e){return e.usersPage.currentPage},N=function(e){return e.usersPage.followingInProgress},M=function(e){return e.usersPage.isFetching},A=function(e){return e.usersPage.filter},J=t(79),V=function(e){Object(s.a)(t,e);var n=Object(i.a)(t);function t(){var e;Object(r.a)(this,t);for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return(e=n.call.apply(n,[this].concat(s))).onPageChanged=function(n){var t=e.props,r=t.pageSize,o=t.filter;e.props.setCurrentPage(n),e.props.getUsers(n,r,o)},e.onFilterChanged=function(n){var t=e.props.pageSize;e.props.getUsers(1,t,n)},e}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,n=e.currentPage,t=e.pageSize,r=e.filter;this.props.getUsers(n,t,r)}},{key:"render",value:function(){return Object(d.jsxs)(d.Fragment,{children:[this.props.isFetching&&Object(d.jsx)(U.a,{}),Object(d.jsx)(C,{pageSize:this.props.pageSize,totalUsersCount:this.props.totalUsersCount,currentPage:this.props.currentPage,users:this.props.users,onPageChanged:this.onPageChanged,onFilterChanged:this.onFilterChanged,followingInProgress:this.props.followingInProgress,follow:this.props.follow,unfollow:this.props.unfollow})]})}}]),t}(u.a.Component);n.default=Object(S.d)(Object(w.b)((function(e){return{users:F(e),pageSize:k(e),totalUsersCount:y(e),currentPage:I(e),followingInProgress:N(e),isFetching:M(e),filter:A(e)}}),{setCurrentPage:J.a.setCurrentPage,getUsers:J.d,follow:J.c,unfollow:J.e}))(V)}}]);
//# sourceMappingURL=8.4177ed32.chunk.js.map