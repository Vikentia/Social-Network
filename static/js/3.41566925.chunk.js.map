{"version":3,"sources":["hoc/withAuthRedirect.tsx","components/Profile/ProfileInfo/ProfileInfo.module.scss","components/Profile/MyPosts/Post/Post.module.scss","components/Profile/MyPosts/MyPosts.module.scss","components/Profile/Profile.module.scss","assets/post.png","components/Profile/MyPosts/Post/Post.tsx","assets/heart.png","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/ProfileInfo/ProfileStatus.tsx","components/Profile/ProfileInfo/ProfileDataForm.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","connect","props","restProps","to","module","exports","Post","className","s","post","src","postImage","alt","post__messImage","message","post__heart","likesCount","maxLength10","maxLengthCreator","MyPosts","postsElements","posts","map","id","myPosts","AddNewPostFormRedux","onSubmit","values","addPost","newPostText","reduxForm","form","handleSubmit","createField","required","Textarea","React","memo","MyPostsContainer","profilePage","actions","addPostActionCreater","ProfileStatus","useState","editMode","setEditMode","status","setStatus","useEffect","onChange","e","currentTarget","value","onBlur","updateStatus","autoFocus","onDoubleClick","style","border","paddingLeft","ProfileDataFormReduxForm","profile","error","formSummaryError","Input","type","Object","keys","contacts","key","contact","ProfileData","isOwner","goToEditMode","onClick","fullName","lookingForAJob","lookingForAJobDescription","descriptionBlock__aboutMe","aboutMe","contactTitle","contactValue","Contact","descriptionBlock__contacts","ProfileInfo","savePhoto","saveProfile","Preloader","profileInfo","descriptionBlock","photos","small","mainPhoto","target","files","length","descriptionBlock__status","initialValues","formData","then","Profile","ProfileContainer","userId","this","router","params","getUserProfile","getStatus","refreshProfile","prevProps","compose","location","useLocation","navigate","useNavigate","useParams"],"mappings":"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","file":"static/js/3.41566925.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { AppStateType } from \"../redux/redux-store\";\r\n\r\ntype MapPropsType = {\r\n    isAuth: boolean;\r\n};\r\ntype DispatchPropsType = {};\r\n\r\nlet mapStateToPropsForRedirect = (state: AppStateType) =>\r\n    ({ isAuth: state.auth.isAuth } as MapPropsType);\r\n\r\nexport function withAuthRedirect<WCP extends object>(\r\n    Component: React.ComponentType<WCP>\r\n) {\r\n    const RedirectComponent: React.FC<MapPropsType & DispatchPropsType> = (\r\n        props\r\n    ) => {\r\n        let { isAuth, ...restProps } = props;\r\n        if (!isAuth) return <Navigate to=\"/login\" />;\r\n        return <Component {...(restProps as WCP)} />;\r\n    };\r\n\r\n    let ConnectedAuthRedirectComponent = connect<\r\n        MapPropsType,\r\n        DispatchPropsType,\r\n        WCP,\r\n        AppStateType\r\n    >(\r\n        mapStateToPropsForRedirect,\r\n        {}\r\n    )(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__1kc_Z\",\"descriptionBlock__status\":\"ProfileInfo_descriptionBlock__status__362G7\",\"descriptionBlock__contacts\":\"ProfileInfo_descriptionBlock__contacts__2GEVL\",\"mainPhoto\":\"ProfileInfo_mainPhoto__3Th4m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post__messImage\":\"Post_post__messImage__kzRTP\",\"post__heart\":\"Post_post__heart__3eCbR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"MyPosts_myPosts__rNwKc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myProfile__photo\":\"Profile_myProfile__photo__26Xkt\"};","export default __webpack_public_path__ + \"static/media/post.81b7a4ac.png\";","import React from \"react\";\r\nimport s from './Post.module.scss';\r\nimport postImage from '../../../../assets/post.png'\r\nimport heartImage from '../../../../assets/heart.png'\r\nimport { PostsType } from \"../../../../types/types\";\r\n\r\nconst Post:React.FC<PostsType>= (props)=> {\r\n    return (\r\n        <div className={s.post}>\r\n            <img src={postImage} alt='avator' className={s.post__messImage}/>\r\n            Post: {props.message}\r\n            <div>\r\n                <span> <img src={heartImage} alt='like' className={s.post__heart}/> {props.likesCount}</span>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;","export default \"data:image/png;base64,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\"","import React from \"react\";\r\nimport Post from \"./Post/Post\";\r\nimport s from \"./MyPosts.module.scss\";\r\nimport { InjectedFormProps, reduxForm } from \"redux-form\";\r\nimport { required, maxLengthCreator } from \"../../../utils/validators\";\r\nimport {\r\n    Textarea,\r\n    createField,\r\n    GetStringKeys,\r\n} from \"../../common/FormsControls/FormsControls\";\r\nimport { PostsType } from \"../../../types/types\";\r\n\r\nexport type MapPropsType = {\r\n    posts: Array<PostsType>\r\n}\r\nexport type DispatchPropsType = {\r\n    addPost: (newPostText: string) => void\r\n}\r\n\r\ntype AddPostFormValuesType = { newPostText: string };\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst MyPosts: React.FC<MapPropsType & DispatchPropsType> = (props) => {\r\n    let postsElements = props.posts.map((post) => (\r\n        <Post\r\n            key={post.id}\r\n            message={post.message}\r\n            likesCount={post.likesCount}\r\n            id={post.id}\r\n        />\r\n    ));\r\n\r\n    // let newPostElement = React.createRef();\r\n\r\n    let onAddPost = (values: AddPostFormValuesType) => {\r\n        props.addPost(values.newPostText);\r\n    };\r\n\r\n    return (\r\n        <div className={s.myPosts}>\r\n            <h3>My posts</h3>\r\n            <AddNewPostFormRedux onSubmit={onAddPost} />\r\n            {postsElements}\r\n        </div>\r\n    );\r\n};\r\n\r\ntype AddNewPostPropsType = {};\r\n\r\ntype AddPostFormValuesTypeKeys = GetStringKeys<AddPostFormValuesType>;\r\n\r\nconst AddNewPostForm: React.FC<\r\n    InjectedFormProps<AddPostFormValuesType, AddNewPostPropsType> &\r\n        AddNewPostPropsType\r\n> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            {createField<AddPostFormValuesTypeKeys>(\r\n                \"Post message\",\r\n                \"newPostText\",\r\n                [required, maxLength10],\r\n                Textarea\r\n            )}\r\n\r\n            <button>Add</button>\r\n            <button>Delete</button>\r\n        </form>\r\n    );\r\n};\r\n\r\nconst AddNewPostFormRedux = reduxForm<\r\n    AddPostFormValuesType,\r\n    AddNewPostPropsType\r\n>({ form: \"ProfileAddNewPostForm\" })(AddNewPostForm);\r\n\r\nexport default React.memo(MyPosts);\r\n","import React, { Dispatch } from \"react\";\r\nimport { actions } from \"../../../redux/profile-reducer\";\r\nimport MyPosts, {MapPropsType, DispatchPropsType} from \"./MyPosts\";\r\nimport { connect } from \"react-redux\";\r\nimport { AppStateType } from \"../../../redux/redux-store\";\r\n\r\nlet mapStateToProps = (state:AppStateType) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText,\r\n  }\r\n}\r\n\r\nconst MyPostsContainer = connect<MapPropsType, DispatchPropsType, {}, AppStateType>(mapStateToProps, {addPost:actions.addPostActionCreater})(MyPosts)\r\n\r\nexport default MyPostsContainer;\r\n\r\n// let mapDispatchToProps = (dispatch) => {\r\n//   return {\r\n//     addPost: (newPostText:string) => dispatch(actions.addPostActionCreater(newPostText)),\r\n//   }","import React, { useState, useEffect, ChangeEvent } from \"react\";\r\n\r\ntype PropsType = {\r\n    status: string;\r\n    updateStatus: (status: string) => void;\r\n};\r\n\r\nconst ProfileStatus: React.FC<PropsType> = (props) => {\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    };\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    };\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {editMode ? (\r\n                <input\r\n                    onChange={onStatusChange}\r\n                    value={status}\r\n                    onBlur={deactivateEditMode}\r\n                    autoFocus\r\n                />\r\n            ) : (\r\n                <span\r\n                    onDoubleClick={activateEditMode}\r\n                    style={{ border: \"none\", paddingLeft: 10 }}\r\n                >\r\n                    {\" \"}\r\n                    {props.status || \"no status\"}{\" \"}\r\n                </span>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\nexport default ProfileStatus;\r\n","import React from \"react\";\r\nimport s from \"./ProfileInfo.module.scss\";\r\nimport style from \"../../common/FormsControls/FormsControls.module.scss\";\r\nimport {\r\n    createField,\r\n    GetStringKeys,\r\n    Input,\r\n    Textarea,\r\n} from \"../../common/FormsControls/FormsControls\";\r\nimport { InjectedFormProps, reduxForm } from \"redux-form\";\r\nimport { ProfileType } from \"../../../types/types\";\r\n\r\ntype PropsType = {\r\n    profile: ProfileType;\r\n};\r\ntype ProfileTypeKeys = GetStringKeys<ProfileType>;\r\n\r\nconst ProfileDataForm: React.FC<\r\n    InjectedFormProps<ProfileType, PropsType> & PropsType\r\n> = ({ handleSubmit, profile, error }) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <button>Save</button>\r\n            </div>\r\n            {error && <div className={style.formSummaryError}>{error}</div>}\r\n            <div>\r\n                <b>Name:</b>{\" \"}\r\n                {createField<ProfileTypeKeys>(\r\n                    \"full name\",\r\n                    \"fullName\",\r\n                    [],\r\n                    Input\r\n                )}\r\n            </div>\r\n            <div>\r\n                <b>Looking for a job</b>:{\" \"}\r\n                {createField<ProfileTypeKeys>(\"\", \"lookingForAJob\", [], Input, {\r\n                    type: \"checkbox\",\r\n                })}\r\n            </div>\r\n            <div>\r\n                <b>My professional skills</b>:\r\n                {createField<ProfileTypeKeys>(\r\n                    \"My professional skills\",\r\n                    \"lookingForAJobDescription\",\r\n                    [],\r\n                    Textarea\r\n                )}\r\n            </div>\r\n            <div>\r\n                <b>About me</b>:\r\n                {createField<ProfileTypeKeys>(\r\n                    \"About me\",\r\n                    \"aboutMe\",\r\n                    [],\r\n                    Textarea\r\n                )}\r\n            </div>\r\n            <div>\r\n                <b>Contacts</b>:{\" \"}\r\n                {Object.keys(profile.contacts).map((key) => {\r\n                    return (\r\n                        <div key={key} className={s.contact}>\r\n                            <b>\r\n                                {key}:{\" \"}\r\n                                {createField(key, \"contacts.\" + key, [], Input)}\r\n                            </b>\r\n                        </div>\r\n                    );\r\n                })}\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\nconst ProfileDataFormReduxForm = reduxForm<ProfileType, PropsType>({ form: \"edit-profile\" })(\r\n    ProfileDataForm\r\n);\r\n\r\nexport default ProfileDataFormReduxForm;\r\n","import React, { useState, ChangeEvent } from \"react\";\r\nimport { Preloader } from \"../../common/Preloader/Preloader\";\r\nimport s from \"./ProfileInfo.module.scss\";\r\nimport ProfileStatus from \"./ProfileStatus\";\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\nimport { ProfileContactsType, ProfileType } from \"../../../types/types\";\r\n\r\ntype PropsType = {\r\n    profile: ProfileType | null;\r\n    status: string;\r\n    isOwner: boolean;\r\n    updateStatus: (status: string) => void;\r\n    savePhoto: (file: File) => void;\r\n    saveProfile: (profile: ProfileType) => Promise<any>;\r\n};\r\n\r\nconst ProfileInfo: React.FC<PropsType> = ({\r\n    profile,\r\n    status,\r\n    updateStatus,\r\n    isOwner,\r\n    savePhoto,\r\n    saveProfile,\r\n}) => {\r\n    const [editMode, setEditMode] = useState(false);\r\n    if (!profile) {\r\n        return <Preloader />;\r\n    }\r\n    const onMainPhotoSelected = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files && e.target.files.length) {\r\n            savePhoto(e.target.files[0]);\r\n        }\r\n    };\r\n\r\n    const onSubmit = (formData: ProfileType) => {\r\n        saveProfile(formData).then(() => {\r\n            setEditMode(false);\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className={s.profileInfo}>\r\n            <div className={s.descriptionBlock}>\r\n                <div>\r\n                    <img\r\n                        src={\r\n                            profile.photos.small ||\r\n                            \"https://binkor.ru/images/vopros/user_hover.png\"\r\n                        }\r\n                        className={s.mainPhoto}\r\n                    />\r\n                </div>\r\n                {isOwner && (\r\n                    <input type={\"file\"} onChange={onMainPhotoSelected} />\r\n                )}\r\n                <div className={s.descriptionBlock__status}>\r\n                    <b>Status: </b>{\" \"}\r\n                    <ProfileStatus\r\n                        status={status}\r\n                        updateStatus={updateStatus}\r\n                    />\r\n                </div>\r\n                {editMode ? (\r\n                    <ProfileDataForm\r\n                        initialValues={profile}\r\n                        profile={profile}\r\n                        onSubmit={onSubmit}\r\n                    />\r\n                ) : (\r\n                    <ProfileData\r\n                        profile={profile}\r\n                        isOwner={isOwner}\r\n                        goToEditMode={() => setEditMode(true)}\r\n                    />\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\ntype ProfileDataPropsType = {\r\n    profile: ProfileType;\r\n    isOwner: boolean;\r\n    goToEditMode: () => void;\r\n};\r\n\r\nconst ProfileData: React.FC<ProfileDataPropsType> = ({\r\n    profile,\r\n    isOwner,\r\n    goToEditMode,\r\n}) => {\r\n    return (\r\n        <div>\r\n            <div>{isOwner && <button onClick={goToEditMode}>Edit</button>}</div>\r\n            <div>\r\n                <b>Name:</b> {profile.fullName}\r\n            </div>\r\n            <div>\r\n                <b>Looking for a job:</b>{\" \"}\r\n                {profile.lookingForAJob ? \"Yes\" : \"No\"}\r\n            </div>\r\n            {profile.lookingForAJob && (\r\n                <div>\r\n                    <b>My professional skills:</b>{\" \"}\r\n                    {profile.lookingForAJobDescription}\r\n                </div>\r\n            )}\r\n            <div className={s.descriptionBlock__aboutMe}>\r\n                <b>About me:</b> {profile.aboutMe || \"None\"}\r\n            </div>\r\n            <div>\r\n                <b>Contacts:</b>{\" \"}\r\n                {Object.keys(profile.contacts).map((contact) => (\r\n                    <Contact\r\n                        contactTitle={contact}\r\n                        contactValue={\r\n                            profile.contacts[\r\n                                contact as keyof ProfileContactsType\r\n                            ]\r\n                        }\r\n                        key={contact}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\ntype ContactPropsType = {\r\n    contactTitle: string;\r\n    contactValue: string;\r\n};\r\n\r\nconst Contact: React.FC<ContactPropsType> = ({\r\n    contactTitle,\r\n    contactValue,\r\n}) => {\r\n    return (\r\n        <div className={s.descriptionBlock__contacts}>\r\n            <b>{contactTitle}: </b> {contactValue || \"None\"}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React from \"react\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport s from \"./Profile.module.scss\";\r\nimport { ProfileType } from \"../../types/types\";\r\n\r\ntype PropsType = {\r\n    profile: ProfileType;\r\n    status: string;\r\n    updateStatus: (status: string) => void;\r\n    isOwner: boolean;\r\n    savePhoto: (file: File) => void;\r\n    saveProfile: (profile: ProfileType) => Promise<any>;\r\n};\r\nconst Profile: React.FC<PropsType> = (props) => {\r\n    return (\r\n        <div className={s.profile}>\r\n            <ProfileInfo\r\n                profile={props.profile}\r\n                status={props.status}\r\n                updateStatus={props.updateStatus}\r\n                isOwner={props.isOwner}\r\n                savePhoto={props.savePhoto}\r\n                saveProfile={props.saveProfile}\r\n            />\r\n            <MyPostsContainer />\r\n        </div>\r\n    );\r\n};\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n    getUserProfile,\r\n    getStatus,\r\n    updateStatus,\r\n    savePhoto,\r\n    saveProfile,\r\n} from \"../../redux/profile-reducer\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\nimport {\r\n    useLocation,\r\n    useNavigate,\r\n    useParams,\r\n    Navigate,\r\n} from \"react-router-dom\";\r\nimport { AppStateType } from \"../../redux/redux-store\";\r\nimport { ProfileType } from \"../../types/types\";\r\n\r\n// type MapPropsType = ReturnType<typeof mapStateToProps>;\r\ntype MapPropsType = {\r\n    profile: ProfileType\r\n    status: string\r\n    userId: number\r\n    isAuth: boolean\r\n}\r\ntype DispatchPropsType = {\r\n    getUserProfile: (userId: number) => void;\r\n    getStatus: (userId: number) => void;\r\n    updateStatus: (status: string) => void;\r\n    savePhoto: (file: File) => void;\r\n    saveProfile: (profile: ProfileType) => Promise<any>;\r\n};\r\n\r\ntype PropsType = MapPropsType & DispatchPropsType & {\r\n    router: any\r\n};\r\n\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n    refreshProfile() {\r\n        let userId: number | null = +this.props.router.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.userId;\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n    componentDidUpdate(prevProps: PropsType) {\r\n        if (this.props.router.params.userId !== prevProps) {\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <Profile\r\n                isOwner={!this.props.router.params.userId}\r\n                // savePhoto={this.props.savePhoto}\r\n                {...this.props}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    userId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default compose<React.ComponentType>(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, {\r\n        getUserProfile,\r\n        getStatus,\r\n        updateStatus,\r\n        savePhoto,\r\n        saveProfile,\r\n    }),\r\n    withRouter\r\n)(ProfileContainer);\r\n\r\nfunction withRouter(Component: React.ComponentType) {\r\n    function ComponentWithRouterProp(props: any) {\r\n        let location = useLocation();\r\n        let navigate = useNavigate();\r\n        let params = useParams();\r\n        return <Component {...props} router={{ location, navigate, params }} />;\r\n    }\r\n\r\n    return ComponentWithRouterProp;\r\n}\r\n// export default compose(connect(mapStateToProps, { getUserProfile }), withRouter, withAuthRedirect)(ProfileContainer)\r\n\r\n// let AuthRedirectComponent = withAuthRedirect(ProfileContainer)\r\n\r\n// export default connect(mapStateToProps, { getUserProfile })(withRouter(AuthRedirectComponent));\r\n"],"sourceRoot":""}